# CLAUDE.md Template for GCP Deployment

Copy this content to your project's `CLAUDE.md` file (or add to existing).

---

## GCP Deployment Instructions

This project uses the GCP Deployment Framework for cloud deployment.

### Framework Location
All GCP deployment resources are in `docs/gcp-deployment-framework/`.

### Deployment Workflow

When asked to deploy this project to GCP, follow these steps:

1. **Read the main guide first**:
   ```
   docs/gcp-deployment-framework/CLAUDE-GCP-GUIDE.md
   ```

2. **Identify project type and select template**:
   - Flutter Web → `templates/flutter-web/`
   - React/Vue → `templates/react/`
   - Next.js → `templates/nextjs/`
   - Laravel/PHP → `templates/laravel/`
   - Node.js → `templates/nodejs/`

3. **Follow the deployment decision guide**:
   ```
   docs/gcp-deployment-framework/guides/deployment-decision.md
   ```

4. **Always provide cost estimate before deployment**:
   ```
   docs/gcp-deployment-framework/guides/cost-analysis.md
   ```

### Key Requirements

- **NEVER deploy without asking the user first**
- **ALWAYS show cost breakdown for each option**
- **SUGGEST the cheapest option that meets requirements**
- **USE MCP servers for current GCP documentation**

### GCP Account

```yaml
Account: demi@coralshades.ai
Default Region: australia-southeast1
```

### MCP Server Usage

For GCP-related tasks, use these MCP servers:

| Server | Tool | Purpose |
|--------|------|---------|
| cloudflare-docs | `mcp__cloudflare-docs__search_cloudflare_documentation` | CDN, DNS, WAF docs |
| perplexity | `mcp__perplexity__perplexity_ask` | Research GCP pricing, best practices |
| perplexity | `mcp__perplexity__perplexity_research` | Deep research on deployment options |

### Example Deployment Request

When user asks: "Deploy this to GCP"

1. Detect project type from files
2. Read appropriate template
3. Analyze requirements (DB, storage, queues)
4. Present deployment options with costs:

```
## Deployment Options

### Option A: Cloud Run (Recommended)
- Cost: $X/month
- Pros: Auto-scaling, no idle costs
- Cons: Cold starts

### Option B: Compute Engine
- Cost: $Y/month (fixed)
- Pros: No cold starts, full control
- Cons: Always-on cost

Which option would you like? I'll set it up after your confirmation.
```

### Quick Commands

```bash
# Initial setup
gcloud auth login
gcloud config set project PROJECT_ID

# Deploy to Cloud Run
gcloud builds submit --config cloudbuild.yaml

# View logs
gcloud run services logs read SERVICE_NAME --region australia-southeast1
```

### Cost Principles

1. **Free Tier First** - Maximize GCP free tier
2. **Cost Transparency** - Show costs before any action
3. **User Approval** - Never create billable resources without confirmation
4. **Optimization** - Suggest cheapest viable option

---

# Project-Specific Configuration

Edit below for your project:

```yaml
# Project Type (auto-detected or specify)
type: ""  # flutter-web | react | nextjs | laravel | nodejs

# GCP Project ID
project_id: ""

# Service Name (for Cloud Run)
service_name: ""

# Database Required?
database: false  # true | false

# Custom Domain
domain: ""
```
